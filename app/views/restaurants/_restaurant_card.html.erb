<a href="<%= restaurant_path(restaurant) %>" class="block group w-full">
  <!-- Card style Apple Podcasts - image carrée à gauche + infos à droite en flex, sans fond -->
  <div class="flex gap-3 w-full">
    <!-- Image carrée à gauche -->
    <div class="relative w-20 h-20 sm:w-24 sm:h-24 flex-shrink-0 rounded-xl overflow-hidden">
      <% if restaurant.image_url.present? %>
        <%= image_tag restaurant.image_url, alt: restaurant.name, class: "w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" %>
      <% else %>
        <!-- Gradient très subtil style Apple -->
        <% case restaurant.category %>
        <% when "Pizza" %>
          <div class="absolute inset-0 bg-gradient-to-br from-orange-200/60 to-orange-100/40"></div>
        <% when "Japanese", "Ramen", "Sushi" %>
          <div class="absolute inset-0 bg-gradient-to-br from-red-200/60 to-pink-100/40"></div>
        <% when "French" %>
          <div class="absolute inset-0 bg-gradient-to-br from-amber-200/60 to-yellow-100/40"></div>
        <% when "Korean" %>
          <div class="absolute inset-0 bg-gradient-to-br from-orange-200/60 to-red-100/40"></div>
        <% when "BBQ" %>
          <div class="absolute inset-0 bg-gradient-to-br from-red-200/60 to-orange-100/40"></div>
        <% when "Burger" %>
          <div class="absolute inset-0 bg-gradient-to-br from-orange-200/60 to-yellow-100/40"></div>
        <% when "Brunch" %>
          <div class="absolute inset-0 bg-gradient-to-br from-yellow-200/60 to-amber-100/40"></div>
        <% when "Bar" %>
          <div class="absolute inset-0 bg-gradient-to-br from-purple-200/60 to-pink-100/40"></div>
        <% when "Indian" %>
          <div class="absolute inset-0 bg-gradient-to-br from-red-200/60 to-orange-100/40"></div>
        <% when "Vegan", "Végétarien" %>
          <div class="absolute inset-0 bg-gradient-to-br from-green-200/60 to-emerald-100/40"></div>
        <% else %>
          <div class="absolute inset-0 bg-gradient-to-br from-gray-200/60 to-gray-100/40"></div>
        <% end %>
      <% end %>
      
      <!-- Badge Tested minimaliste style Apple -->
      <% if restaurant.tested? %>
        <div class="absolute top-1.5 right-1.5 w-5 h-5 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center shadow-sm">
          <svg width="12px" height="12px" viewBox="0 0 24 24" fill="none">
            <path d="M5 13L9 17L19 7" stroke="#10B981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </div>
      <% end %>
    </div>

    <!-- Infos à droite style Apple Podcasts -->
    <div class="flex-1 min-w-0 pt-0.5">
      <!-- Nom du restaurant -->
      <div class="mb-1">
        <h3 class="text-[14px] font-semibold text-gray-900 line-clamp-2 leading-tight group-hover:text-[--color--red] transition-colors">
          <%= restaurant.name %>
        </h3>
      </div>
      
        <!-- Adresse sur 2 lignes -->
        <% if restaurant.address.present? %>
          <div class="text-[11px] text-gray-500">
            <span class="leading-relaxed line-clamp-2"><%= truncate(restaurant.address, length: 50) %></span>
          </div>
        <% end %>
    </div>
  </div>
</a>
